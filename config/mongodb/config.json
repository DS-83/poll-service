// MongoDB Playground
// Use Ctrl+Space inside a snippet or a string literal to trigger completions.

const database = 'polls';
const collection = 'polls';

// The current database to use.
use(database);

// db.createCollection(
//     collection, {
//     validator: {
//         $jsonSchema: {}
//     }
// })


db.runCommand({
  collMod: "polls",
   validator: {
      $jsonSchema: {
         bsonType: "object",
         title: "Poll Object Validation",
         required: [ "choice", "question" ],
         properties: {
            question: {
               bsonType: "string",
               description: "'question' must be a string and is required"
            },
            choice: {
               bsonType: "array",
               description: "'choice' must be an array and is required",
               required: ["name"],
               properties: {
                name: {
                  bsonType: "string",
                  description: "'name' must be a string"
                }
               }
            },
         }
      }
   }
} )
// More information on the `createCollection` command can be found at:
// https://www.mongodb.com/docs/manual/reference/method/db.createCollection/
